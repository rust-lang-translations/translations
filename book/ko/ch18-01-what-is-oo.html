<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>객체 지향 언어의 특성 - The Rust Programming Language</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/book";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/ch18-01-what-is-oo.md`;
                    } else {
                        canonical_href = `${base}/${lang}/ch18-01-what-is-oo.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ja"  , "ru"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="ferris.css">
        <link rel="stylesheet" href="theme/2018-edition.css">
        <link rel="stylesheet" href="theme/semantic-notes.css">
        <link rel="stylesheet" href="theme/listing.css">
        <link rel="stylesheet" href="theme/language-picker.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="객체-지향-언어의-특성"><a class="header" href="#객체-지향-언어의-특성">객체 지향 언어의 특성</a></h2>
<p>프로그래밍 커뮤니티에는 어떤 언어가 객체 지향으로 간주되기 위해 갖추어야 할 기능에 대한 합의가 없습니다. 러스트는 OOP를 포함한 많은 프로그래밍 패러다임의 영향을 받았습니다. 예를 들어, 우리는 13장에서 함수형 프로그래밍에서 유래한 기능들을 살펴보았습니다. 논쟁의 여지는 있지만, OOP 언어들은 객체, 캡슐화, 상속이라는 특정한 공통 특성을 공유합니다. 이러한 각각의 특성이 무엇을 의미하는지, 그리고 러스트가 이를 지원하는지 살펴보겠습니다.</p>
<h3 id="객체는-데이터와-동작을-담는다"><a class="header" href="#객체는-데이터와-동작을-담는다">객체는 데이터와 동작을 담는다</a></h3>
<p>에리히 감마(Erich Gamma), 리처드 헬름(Richard Helm), 랄프 존슨(Ralph Johnson), 존 블리시디스(John Vlissides)가 저술한 <em>Design Patterns: Elements of Reusable Object-Oriented Software</em> (Addison-Wesley Professional, 1994)는 구어체로 <em>GoF(Gang of Four)</em> 책이라고 불리며, 객체 지향 디자인 패턴의 카탈로그입니다. 이 책은 OOP를 다음과 같이 정의합니다.</p>
<blockquote>
<p>객체 지향 프로그램은 객체들로 구성된다. <strong>객체</strong>는 데이터와 그 데이터를 조작하는 프로시저를 모두 패키징한다. 프로시저는 일반적으로 <strong>메서드</strong> 또는 <strong>오퍼레이션</strong>이라고 불린다.</p>
</blockquote>
<p>이 정의를 사용하면 러스트는 객체 지향적입니다. 구조체와 열거형은 데이터를 가지며, <code>impl</code> 블록은 구조체와 열거형에 메서드를 제공합니다. 비록 메서드를 가진 구조체와 열거형이 객체라고 <em>불리지는</em> 않지만, GoF의 객체 정의에 따르면 동일한 기능을 제공합니다.</p>
<h3 id="구현-세부-사항을-숨기는-캡슐화"><a class="header" href="#구현-세부-사항을-숨기는-캡슐화">구현 세부 사항을 숨기는 캡슐화</a></h3>
<p>OOP와 흔히 연관되는 또 다른 측면은 _캡슐화(encapsulation)_라는 개념입니다. 이는 객체의 구현 세부 사항이 해당 객체를 사용하는 코드에 노출되지 않음을 의미합니다. 따라서 객체와 상호작용하는 유일한 방법은 공개된 API를 통해서이며, 객체를 사용하는 코드가 객체의 내부로 들어가 데이터나 동작을 직접 변경할 수 없어야 합니다. 이를 통해 프로그래머는 객체를 사용하는 코드를 변경할 필요 없이 객체의 내부를 변경하고 리팩터링할 수 있습니다.</p>
<p>우리는 7장에서 캡슐화를 제어하는 방법을 논의했습니다. <code>pub</code> 키워드를 사용하여 코드의 어떤 모듈, 타입, 함수, 메서드가 공개될지 결정할 수 있으며, 기본적으로 그 외의 모든 것은 비공개입니다. 예를 들어, <code>i32</code> 값들의 벡터를 포함하는 필드를 가진 <code>AveragedCollection</code> 구조체를 정의할 수 있습니다. 또한 이 구조체는 벡터 값들의 평균을 저장하는 필드를 가질 수 있는데, 이는 누군가가 필요로 할 때마다 매번 평균을 계산할 필요가 없음을 의미합니다. 즉, <code>AveragedCollection</code>은 계산된 평균을 우리를 위해 캐싱해 둡니다. 목록 18-1에 <code>AveragedCollection</code> 구조체의 정의가 있습니다.</p>
<Listing number="18-1" file-name="src/lib.rs" caption="An `AveragedCollection` struct that maintains a list of integers and the average of the items in the collection">
<pre><code class="language-rust noplayground">pub struct AveragedCollection {
    list: Vec&lt;i32&gt;,
    average: f64,
}</code></pre>
</Listing>
<p>이 구조체는 다른 코드에서 사용할 수 있도록 <code>pub</code>으로 표시되었지만, 구조체 내부의 필드들은 비공개로 유지됩니다. 이 사례에서 이는 중요한데, 리스트에서 값이 추가되거나 제거될 때마다 평균도 확실히 업데이트되기를 원하기 때문입니다. 우리는 목록 18-2에 나타난 것처럼 구조체에 <code>add</code>, <code>remove</code>, <code>average</code> 메서드를 구현함으로써 이를 달성합니다.</p>
<Listing number="18-2" file-name="src/lib.rs" caption="Implementations of the public methods `add`, `remove`, and `average` on `AveragedCollection`">
<pre><code class="language-rust noplayground"><span class="boring">pub struct AveragedCollection {
</span><span class="boring">    list: Vec&lt;i32&gt;,
</span><span class="boring">    average: f64,
</span><span class="boring">}
</span><span class="boring">
</span>impl AveragedCollection {
    pub fn add(&amp;mut self, value: i32) {
        self.list.push(value);
        self.update_average();
    }

    pub fn remove(&amp;mut self) -&gt; Option&lt;i32&gt; {
        let result = self.list.pop();
        match result {
            Some(value) =&gt; {
                self.update_average();
                Some(value)
            }
            None =&gt; None,
        }
    }

    pub fn average(&amp;self) -&gt; f64 {
        self.average
    }

    fn update_average(&amp;mut self) {
        let total: i32 = self.list.iter().sum();
        self.average = total as f64 / self.list.len() as f64;
    }
}</code></pre>
</Listing>
<p>공개 메서드인 <code>add</code>, <code>remove</code>, <code>average</code>는 <code>AveragedCollection</code> 인스턴스의 데이터에 접근하거나 이를 수정할 수 있는 유일한 방법입니다. <code>add</code> 메서드를 통해 <code>list</code>에 아이템이 추가되거나 <code>remove</code> 메서드를 통해 제거될 때, 각각의 구현은 <code>average</code> 필드의 업데이트까지 처리하는 비공개 메서드 <code>update_average</code>를 호출합니다.</p>
<p><code>list</code>와 <code>average</code> 필드를 비공개로 두었기 때문에 외부 코드에서 <code>list</code> 필드에 아이템을 직접 추가하거나 제거할 방법이 없습니다. 만약 직접 가능하다면 <code>list</code>가 변경될 때 <code>average</code> 필드가 동기화되지 않을 수 있습니다. <code>average</code> 메서드는 <code>average</code> 필드의 값을 반환하여, 외부 코드에서 평균값을 읽을 수는 있지만 수정할 수는 없게 합니다.</p>
<p>우리가 <code>AveragedCollection</code> 구조체의 구현 세부 사항을 캡슐화했기 때문에, 나중에 데이터 구조와 같은 측면들을 쉽게 변경할 수 있습니다. 예를 들어, <code>list</code> 필드에 <code>Vec&lt;i32&gt;</code> 대신 <code>HashSet&lt;i32&gt;</code>를 사용할 수도 있습니다. 공개 메서드인 <code>add</code>, <code>remove</code>, <code>average</code>의 시그니처가 동일하게 유지되는 한, <code>AveragedCollection</code>을 사용하는 코드는 컴파일을 위해 변경될 필요가 없습니다. 만약 대신 <code>list</code>를 공개로 만들었다면 상황은 달라졌을 것입니다. <code>HashSet&lt;i32&gt;</code>와 <code>Vec&lt;i32&gt;</code>는 아이템을 추가하고 제거하는 메서드가 다르므로, 외부 코드에서 <code>list</code>를 직접 수정하고 있었다면 코드를 변경해야 했을 것입니다.</p>
<p>캡슐화가 어떤 언어를 객체 지향 언어로 간주하기 위한 필수 조건이라면, 러스트는 그 조건을 충족합니다. 코드의 여러 부분에 대해 <code>pub</code> 사용 여부를 선택할 수 있으므로 구현 세부 사항의 캡슐화가 가능합니다.</p>
<h3 id="타입-시스템이자-코드-공유로서의-상속"><a class="header" href="#타입-시스템이자-코드-공유로서의-상속">타입 시스템이자 코드 공유로서의 상속</a></h3>
<p>_상속(Inheritance)_은 어떤 객체가 다른 객체의 정의로부터 요소들을 물려받을 수 있는 메커니즘으로, 이를 통해 부모 객체의 데이터와 동작을 다시 정의할 필요 없이 그대로 얻을 수 있습니다.</p>
<p>만약 어떤 언어가 객체 지향 언어이기 위해 상속을 반드시 가져야 한다면, 러스트는 객체 지향 언어가 아닙니다. 매크로를 사용하지 않고서는 부모 구조체의 필드와 메서드 구현을 상속받는 구조체를 정의할 방법이 없습니다.</p>
<p>하지만 프로그래밍 도구 상자에 상속이 있는 것에 익숙하다면, 애초에 왜 상속을 사용하려고 했는지에 따라 러스트에서 다른 해결책을 사용할 수 있습니다.</p>
<p>상속을 선택하는 데는 주로 두 가지 이유가 있습니다. 하나는 코드의 재사용입니다. 한 타입에 대해 특정 동작을 구현하고, 상속을 통해 다른 타입에서 그 구현을 재사용할 수 있습니다. 러스트 코드에서는 트레이트 메서드의 기본 구현을 사용하여 이를 제한적으로 수행할 수 있습니다. 이는 목록 10-14에서 <code>Summary</code> 트레이트에 <code>summarize</code> 메서드의 기본 구현을 추가했을 때 보았습니다. <code>Summary</code> 트레이트를 구현하는 모든 타입은 추가 코드 없이 <code>summarize</code> 메서드를 사용할 수 있습니다. 이는 부모 클래스가 메서드 구현을 가지고 있고 상속받는 자식 클래스도 해당 메서드 구현을 가지는 것과 유사합니다. 또한 <code>Summary</code> 트레이트를 구현할 때 <code>summarize</code> 메서드의 기본 구현을 오버라이드할 수도 있는데, 이는 자식 클래스가 부모 클래스로부터 상속받은 메서드의 구현을 오버라이드하는 것과 유사합니다.</p>
<p>상속을 사용하는 또 다른 이유는 타입 시스템과 관련이 있습니다. 자식 타입을 부모 타입이 사용되는 곳에서 동일하게 사용할 수 있게 하기 위해서입니다. 이를 _다형성(polymorphism)_이라고도 하는데, 이는 여러 객체가 특정 특성을 공유할 경우 런타임에 서로를 대체할 수 있음을 의미합니다.</p>
<blockquote>
<h3 id="다형성"><a class="header" href="#다형성">다형성</a></h3>
<p>많은 사람들에게 다형성은 상속과 동의어입니다. 하지만 실제로는 여러 타입의 데이터와 함께 작동할 수 있는 코드를 의미하는 더 일반적인 개념입니다. 상속의 경우, 이러한 타입들은 일반적으로 서브클래스들입니다.</p>
<p>러스트는 대신 제네릭을 사용하여 가능한 여러 타입에 대해 추상화하고, 트레이트 바운드를 사용하여 해당 타입들이 반드시 제공해야 하는 기능에 제약을 겁니다. 이를 때로는 _제한된 매개변수 다형성(bounded parametric polymorphism)_이라고 부릅니다.</p>
</blockquote>
<p>상속은 최근 많은 프로그래밍 언어에서 설계 솔루션으로서 인기를 잃고 있는데, 필요 이상의 코드를 공유하게 될 위험이 크기 때문입니다. 서브클래스가 부모 클래스의 모든 특성을 항상 공유해야 하는 것은 아니지만, 상속을 사용하면 그렇게 됩니다. 이는 프로그램의 설계를 덜 유연하게 만들 수 있습니다. 또한 서브클래스에 적용되지 않아 의미가 없거나 에러를 유발하는 메서드를 서브클래스에서 호출하게 될 가능성도 생깁니다. 게다가 일부 언어는 _단일 상속(single inheritance)_만 허용하여(서브클래스가 오직 하나의 클래스만 상속받을 수 있음을 의미), 프로그램 설계의 유연성을 더욱 제한합니다.</p>
<p>이러한 이유들로 인해, 러스트는 상속 대신 트레이트 객체를 사용하는 다른 접근 방식을 취합니다. 러스트에서 트레이트 객체가 어떻게 다형성을 가능하게 하는지 살펴봅시다.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch18-00-oop.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch18-02-trait-objects.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch18-00-oop.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch18-02-trait-objects.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="ferris.js"></script>
        <script src="theme/language-picker.js"></script>


    </div>
    </body>
</html>
