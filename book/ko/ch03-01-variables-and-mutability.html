<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>변수와 가변성 - The Rust Programming Language</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/book";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/ch03-01-variables-and-mutability.md`;
                    } else {
                        canonical_href = `${base}/${lang}/ch03-01-variables-and-mutability.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ja"  , "ru"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="ferris.css">
        <link rel="stylesheet" href="theme/2018-edition.css">
        <link rel="stylesheet" href="theme/semantic-notes.css">
        <link rel="stylesheet" href="theme/listing.css">
        <link rel="stylesheet" href="theme/language-picker.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="변수와-가변성"><a class="header" href="#변수와-가변성">변수와 가변성</a></h2>
<p><a href="ch02-00-guessing-game-tutorial.html#storing-values-with-variables">“변수로 값 저장하기”</a><!-- ignore --> 섹션에서 언급했듯이, 기본적으로 변수는 불변입니다. 이것은 러스트가 제공하는 안전성과 쉬운 동시성을 활용하는 방식으로 코드를 작성하도록 유도하는 많은 유인책 중 하나입니다. 그러나 변수를 가변으로 만들 수 있는 옵션도 있습니다. 러스트가 왜 불변성을 선호하도록 권장하는지, 그리고 때로는 왜 그것을 선택하지 않을 수 있는지 살펴보겠습니다.</p>
<p>변수가 불변일 때, 값이 이름에 바인딩되면 그 값을 변경할 수 없습니다. 이를 설명하기 위해, <code>cargo new variables</code>를 사용하여 <em>projects</em> 디렉토리에 _variables_라는 새 프로젝트를 생성하세요.</p>
<p>그런 다음, 새 <em>variables</em> 디렉토리에서 _src/main.rs_를 열고, 아직 컴파일되지 않는 다음 코드로 내용을 교체하세요:</p>
<p><span class="filename">파일명: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = 5;
    println!("x의 값은: {x}");
    x = 6;
    println!("x의 값은: {x}");
}</code></pre>
<p><code>cargo run</code>을 사용하여 프로그램을 저장하고 실행하세요. 이 출력과 같이 불변성 오류에 대한 오류 메시지를 받아야 합니다:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --&gt; src/main.rs:4:5
  |
2 |     let x = 5;
  |         - first assignment to `x`
3 |     println!("The value of x is: {x}");
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable
  |
help: consider making this binding mutable
  |
2 |     let mut x = 5;
  |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables` (bin "variables") due to 1 previous error
</code></pre>
<p>이 예는 컴파일러가 프로그램에서 오류를 찾는 데 어떻게 도움이 되는지 보여줍니다. 컴파일러 오류는 답답할 수 있지만, 실제로는 프로그램이 아직 원하는 작업을 안전하게 수행하지 못하고 있다는 의미일 뿐입니다. 당신이 좋은 프로그래머가 아니라는 의미는 <em>아닙니다</em>! 숙련된 러스트 개발자도 여전히 컴파일러 오류를 받습니다.</p>
<p>불변 변수 <code>x</code>에 두 번 할당할 수 없다는 오류 메시지를 받았습니다. 왜냐하면 불변 <code>x</code> 변수에 두 번째 값을 할당하려고 했기 때문입니다.</p>
<p>불변으로 지정된 값을 변경하려고 할 때 컴파일 타임 오류가 발생하는 것이 중요합니다. 왜냐하면 바로 이 상황이 버그로 이어질 수 있기 때문입니다. 코드의 한 부분이 값이 절대 변경되지 않을 것이라는 가정 하에 작동하고 다른 부분이 그 값을 변경하면, 코드의 첫 번째 부분이 의도한 대로 작동하지 않을 수 있습니다. 이런 종류의 버그의 원인은 사후에 추적하기 어려울 수 있으며, 특히 두 번째 코드가 값을 _때때로_만 변경하는 경우에는 더욱 그렇습니다. 러스트 컴파일러는 값이 변경되지 않을 것이라고 명시하면, 실제로 변경되지 않을 것임을 보장하므로, 직접 추적할 필요가 없습니다. 따라서 코드를 더 쉽게 추론할 수 있습니다.</p>
<p>하지만 가변성은 매우 유용할 수 있으며, 코드를 더 편리하게 작성할 수 있게 해줍니다. 변수는 기본적으로 불변이지만, <a href="ch02-00-guessing-game-tutorial.html#storing-values-with-variables">2장</a><!-- ignore -->에서 했던 것처럼 변수 이름 앞에 <code>mut</code>를 추가하여 가변으로 만들 수 있습니다. <code>mut</code>를 추가하면 코드의 다른 부분이 이 변수의 값을 변경할 것임을 나타내어 코드의 미래 독자에게 의도를 전달합니다.</p>
<p>예를 들어, _src/main.rs_를 다음과 같이 변경해 보겠습니다:</p>
<p><span class="filename">파일명: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut x = 5;
    println!("x의 값은: {x}");
    x = 6;
    println!("x의 값은: {x}");
}</code></pre></pre>
<p>이제 프로그램을 실행하면 다음과 같은 결과를 얻습니다:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/variables`
The value of x is: 5
The value of x is: 6
</code></pre>
<p><code>mut</code>를 사용하면 <code>x</code>에 바인딩된 값을 <code>5</code>에서 <code>6</code>으로 변경할 수 있습니다. 궁극적으로, 가변성을 사용할지 여부는 당신에게 달려 있으며, 특정 상황에서 무엇이 가장 명확하다고 생각하는지에 따라 달라집니다.</p>
<h3 id="상수"><a class="header" href="#상수">상수</a></h3>
<p>불변 변수와 마찬가지로, _상수_는 이름에 바인딩되고 변경이 허용되지 않는 값이지만, 상수와 변수 사이에는 몇 가지 차이점이 있습니다.</p>
<p>첫째, 상수에 <code>mut</code>를 사용할 수 없습니다. 상수는 기본적으로 불변일 뿐만 아니라 항상 불변입니다. <code>let</code> 키워드 대신 <code>const</code> 키워드를 사용하여 상수를 선언하며, 값의 타입은 <em>반드시</em> 명시해야 합니다. 타입과 타입 명시에 대해서는 다음 섹션인 <a href="ch03-02-data-types.html#data-types">“데이터 타입”</a><!-- ignore -->에서 다룰 것이므로, 지금은 세부 사항에 대해 걱정하지 마세요. 항상 타입을 명시해야 한다는 것만 알아두세요.</p>
<p>상수는 전역 스코프를 포함한 모든 스코프에서 선언할 수 있으므로, 코드의 여러 부분에서 알아야 할 값에 유용합니다.</p>
<p>마지막 차이점은 상수는 런타임에만 계산할 수 있는 값의 결과가 아닌, 상수 표현식에만 설정할 수 있다는 것입니다.</p>
<p>다음은 상수 선언의 예입니다:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
<span class="boring">}</span></code></pre></pre>
<p>상수의 이름은 <code>THREE_HOURS_IN_SECONDS</code>이고 그 값은 60(1분의 초)에 60(1시간의 분)을 곱하고 3(이 프로그램에서 계산하려는 시간)을 곱한 결과로 설정됩니다. 러스트의 상수 명명 규칙은 단어 사이에 밑줄을 사용하여 모두 대문자로 사용하는 것입니다. 컴파일러는 컴파일 타임에 제한된 연산 집합을 평가할 수 있으므로, 이 상수를 10,800 값으로 설정하는 대신 더 이해하고 확인하기 쉬운 방식으로 이 값을 작성하도록 선택할 수 있습니다. 상수를 선언할 때 사용할 수 있는 연산에 대한 자세한 내용은 <a href="../reference/const_eval.html">러스트 참조의 상수 평가 섹션</a>을 참조하세요.</p>
<p>상수는 선언된 스코프 내에서 프로그램이 실행되는 전체 시간 동안 유효합니다. 이 속성은 상수를 게임 플레이어가 얻을 수 있는 최대 점수나 빛의 속도와 같이 프로그램의 여러 부분에서 알아야 할 애플리케이션 도메인의 값에 유용하게 만듭니다.</p>
<p>프로그램 전체에서 사용되는 하드코딩된 값을 상수로 명명하는 것은 해당 값의 의미를 코드의 미래 유지보수자에게 전달하는 데 유용합니다. 또한 나중에 하드코딩된 값을 업데이트해야 할 경우 변경해야 할 코드가 한 곳에만 있도록 도와줍니다.</p>
<h3 id="섀도잉"><a class="header" href="#섀도잉">섀도잉</a></h3>
<p><a href="ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number">2장</a><!-- ignore -->의 추측 게임 튜토리얼에서 보았듯이, 이전 변수와 동일한 이름으로 새 변수를 선언할 수 있습니다. 러스트 개발자들은 첫 번째 변수가 두 번째 변수에 의해 _섀도잉_되었다고 말하는데, 이는 변수 이름을 사용할 때 컴파일러가 보게 될 것이 두 번째 변수라는 것을 의미합니다. 사실상, 두 번째 변수는 첫 번째 변수를 가리고, 변수 이름의 모든 사용을 스스로 가져가거나 스코프가 끝날 때까지 가져갑니다. 다음과 같이 동일한 변수 이름을 사용하고 <code>let</code> 키워드를 반복 사용하여 변수를 섀도잉할 수 있습니다:</p>
<p><span class="filename">파일명: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!("내부 스코프에서 x의 값은: {x}");
    }

    println!("x의 값은: {x}");
}</code></pre></pre>
<p>이 프로그램은 먼저 <code>x</code>를 <code>5</code> 값에 바인딩합니다. 그런 다음 <code>let x =</code>를 반복하여 새 변수 <code>x</code>를 만들고, 원래 값에 <code>1</code>을 더하여 <code>x</code>의 값을 <code>6</code>으로 만듭니다. 그런 다음, 중괄호로 생성된 내부 스코프 내에서 세 번째 <code>let</code> 문도 <code>x</code>를 섀도잉하고 새 변수를 만들어 이전 값에 <code>2</code>를 곱하여 <code>x</code>에 <code>12</code> 값을 부여합니다. 해당 스코프가 끝나면 내부 섀도잉이 끝나고 <code>x</code>는 <code>6</code>으로 돌아갑니다. 이 프로그램을 실행하면 다음과 같이 출력됩니다:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/variables`
The value of x in the inner scope is: 12
The value of x is: 6
</code></pre>
<p>섀도잉은 변수를 <code>mut</code>로 표시하는 것과 다릅니다. 왜냐하면 <code>let</code> 키워드를 사용하지 않고 이 변수에 실수로 다시 할당하려고 하면 컴파일 타임 오류가 발생하기 때문입니다. <code>let</code>을 사용하면 값에 몇 가지 변환을 수행할 수 있지만, 해당 변환이 완료된 후에는 변수가 불변이 됩니다.</p>
<p><code>mut</code>와 섀도잉의 또 다른 차이점은 <code>let</code> 키워드를 다시 사용할 때 효과적으로 새 변수를 생성하기 때문에 값의 타입을 변경하면서도 동일한 이름을 재사용할 수 있다는 것입니다. 예를 들어, 프로그램이 사용자에게 일부 텍스트 사이에 원하는 공백 수를 공백 문자를 입력하여 표시하도록 요청한 다음, 해당 입력을 숫자로 저장하고 싶다고 가정해 보겠습니다:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let spaces = "   ";
    let spaces = spaces.len();
<span class="boring">}</span></code></pre></pre>
<p>첫 번째 <code>spaces</code> 변수는 문자열 타입이고 두 번째 <code>spaces</code> 변수는 숫자 타입입니다. 따라서 섀도잉은 <code>spaces_str</code>과 <code>spaces_num</code>과 같이 다른 이름을 생각해 낼 필요 없이 더 간단한 <code>spaces</code> 이름을 재사용할 수 있게 해줍니다. 그러나 여기에 표시된 것처럼 <code>mut</code>를 사용하려고 하면 컴파일 타임 오류가 발생합니다:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let mut spaces = "   ";
    spaces = spaces.len();
<span class="boring">}</span></code></pre>
<p>오류는 변수의 타입을 변경할 수 없다고 말합니다:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0308]: mismatched types
 --&gt; src/main.rs:3:14
  |
2 |     let mut spaces = "   ";
  |                      ----- expected due to this value
3 |     spaces = spaces.len();
  |              ^^^^^^^^^^^^ expected `&amp;str`, found `usize`

For more information about this error, try `rustc --explain E0308`.
error: could not compile `variables` (bin "variables") due to 1 previous error
</code></pre>
<p>이제 변수가 어떻게 작동하는지 살펴보았으니, 변수가 가질 수 있는 더 많은 데이터 타입을 살펴보겠습니다.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch03-00-common-programming-concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch03-02-data-types.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch03-00-common-programming-concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch03-02-data-types.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="ferris.js"></script>
        <script src="theme/language-picker.js"></script>


    </div>
    </body>
</html>
