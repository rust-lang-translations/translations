<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>이식성 - The Embedded Rust Book</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/embedded-book";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/portability/index.md`;
                    } else {
                        canonical_href = `${base}/${lang}/portability/index.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/language-picker.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Embedded Rust Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="이식성"><a class="header" href="#이식성">이식성</a></h1>
<p>임베디드 환경에서 이식성은 매우 중요한 주제입니다. 모든 벤더와 심지어 단일 제조업체의 각 제품군도 다른 주변 장치와 기능을 제공하며, 주변 장치와 상호 작용하는 방식도 유사하게 다릅니다.</p>
<p>이러한 차이를 해소하는 일반적인 방법은 하드웨어 추상화 계층 또는 <strong>HAL</strong>이라는 계층을 통하는 것입니다.</p>
<blockquote>
<p>하드웨어 추상화는 소프트웨어에서 일부 플랫폼별 세부 사항을 에뮬레이트하여 프로그램에 하드웨어 리소스에 대한 직접 접근을 제공하는 루틴 집합입니다.</p>
<p>이들은 종종 표준 운영 체제(OS) 호출을 하드웨어에 제공함으로써 프로그래머가 장치 독립적인 고성능 애플리케이션을 작성할 수 있도록 합니다.</p>
<p><em>위키백과: <a href="https://en.wikipedia.org/wiki/Hardware_abstraction">하드웨어 추상화 계층</a></em></p>
</blockquote>
<p>임베디드 시스템은 일반적으로 운영 체제와 사용자 설치 가능 소프트웨어가 아닌 전체적으로 컴파일된 펌웨어 이미지와 여러 다른 제약 조건을 가지고 있기 때문에 이 점에서 다소 특별합니다. 따라서 위키백과에서 정의한 전통적인 접근 방식이 잠재적으로 작동할 수 있지만, 이식성을 보장하는 가장 생산적인 접근 방식은 아닐 것입니다.</p>
<p>How do we do this in Rust? Enter <strong><a href="https://crates.io/crates/embedded-hal">embedded-hal</a></strong>...</p>
<h2 id="what-is-embedded-hal"><a class="header" href="#what-is-embedded-hal">What is <a href="https://crates.io/crates/embedded-hal">embedded-hal</a>?</a></h2>
<p>간단히 말해, <strong>HAL 구현</strong>, <strong>드라이버</strong> 및 <strong>애플리케이션(또는 펌웨어)</strong> 간의 구현 계약을 정의하는 트레이트 집합입니다. 이러한 계약에는 기능(즉, 특정 타입에 대해 트레이트가 구현되면 <strong>HAL 구현</strong>이 특정 기능을 제공함)과 메서드(즉, 트레이트를 구현하는 타입을 구성할 수 있다면 트레이트에 지정된 메서드를 사용할 수 있음이 보장됨)가 모두 포함됩니다.</p>
<p>일반적인 계층화는 다음과 같습니다:</p>
<p><img src="../assets/rust_layers.svg" alt="" /></p>
<p>Some of the defined traits in <strong><a href="https://crates.io/crates/embedded-hal">embedded-hal</a></strong> are:</p>
<ul>
<li>GPIO (입력 및 출력 핀)</li>
<li>직렬 통신</li>
<li>I2C</li>
<li>SPI</li>
<li>타이머/카운트다운</li>
<li>아날로그 디지털 변환</li>
</ul>
<p>The main reason for having the <strong>embedded-hal</strong> traits and crates implementing and using them is to keep complexity in check. If you consider that an application might have to implement the use of the peripheral in the hardware as well as the application and potentially drivers for additional hardware components, then it should be easy to see that the re-usability is very limited. Expressed mathematically, if <strong>M</strong> is the number of peripheral HAL implementations and <strong>N</strong> the number of drivers then if we were to reinvent the wheel for every application then we would end up with <strong>M*N</strong> implementations while by using the <em>API</em> provided by the <strong><a href="https://crates.io/crates/embedded-hal">embedded-hal</a></strong> traits will make the implementation complexity approach <strong>M+N</strong>. Of course there're additional benefits to be had, such as less trial-and-error due to a well-defined and ready-to-use APIs.</p>
<h2 id="users-of-the-embedded-hal"><a class="header" href="#users-of-the-embedded-hal">Users of the <a href="https://crates.io/crates/embedded-hal">embedded-hal</a></a></h2>
<p>위에서 언급했듯이 HAL의 주요 사용자는 세 가지입니다:</p>
<h3 id="hal-구현"><a class="header" href="#hal-구현">HAL 구현</a></h3>
<p>HAL 구현은 하드웨어와 HAL 트레이트 사용자 간의 인터페이스를 제공합니다. 일반적인 구현은 세 부분으로 구성됩니다:</p>
<ul>
<li>하나 이상의 하드웨어 특정 타입</li>
<li>이러한 타입을 생성하고 초기화하는 함수, 종종 다양한 구성 옵션(속도, 작동 모드, 핀 사용 등)을 제공합니다.</li>
<li>one or more <code>trait</code> <code>impl</code> of <strong><a href="https://crates.io/crates/embedded-hal">embedded-hal</a></strong> traits for that type</li>
</ul>
<p>이러한 <strong>HAL 구현</strong>은 다양한 형태로 제공될 수 있습니다:</p>
<ul>
<li>저수준 하드웨어 접근을 통해, 예: 레지스터를 통해</li>
<li>운영 체제를 통해, 예: Linux에서 <code>sysfs</code>를 사용하여</li>
<li>어댑터를 통해, 예: 단위 테스트를 위한 타입 모의</li>
<li>하드웨어 어댑터용 드라이버를 통해, 예: I2C 멀티플렉서 또는 GPIO 확장기</li>
</ul>
<h3 id="드라이버"><a class="header" href="#드라이버">드라이버</a></h3>
<p>A driver implements a set of custom functionality for an internal or external component, connected to a peripheral implementing the <a href="https://crates.io/crates/embedded-hal">embedded-hal</a> traits. Typical examples for such drivers include various sensors (temperature, magnetometer, accelerometer, light), display devices (LED arrays, LCD displays) and actuators (motors, transmitters).</p>
<p>A driver has to be initialized with an instance of type that implements a certain <code>trait</code> of the <a href="https://crates.io/crates/embedded-hal">embedded-hal</a> which is ensured via trait bound and provides its own type instance with a custom set of methods allowing to interact with the driven device.</p>
<h3 id="애플리케이션"><a class="header" href="#애플리케이션">애플리케이션</a></h3>
<p>애플리케이션은 다양한 부분을 함께 묶고 원하는 기능이 달성되도록 보장합니다. 다른 시스템 간에 포팅할 때, 이 부분은 가장 많은 적응 노력이 필요한데, 애플리케이션이 HAL 구현을 통해 실제 하드웨어를 올바르게 초기화해야 하고, 다른 하드웨어의 초기화는 때때로 크게 다르기 때문입니다. 또한 구성 요소가 물리적으로 다른 터미널에 연결될 수 있고, 하드웨어 버스가 때때로 구성과 일치하도록 외부 하드웨어가 필요하거나, 내부 주변 장치 사용에 있어 다른 트레이드오프가 있을 수 있으므로(예: 다른 기능을 가진 여러 타이머를 사용할 수 있거나 주변 장치가 서로 충돌하는 경우) 사용자 선택도 큰 역할을 합니다.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../static-guarantees/zero-cost-abstractions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../concurrency/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../static-guarantees/zero-cost-abstractions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../concurrency/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/language-picker.js"></script>


    </div>
    </body>
</html>
