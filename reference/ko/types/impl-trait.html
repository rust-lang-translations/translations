<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>impl 트레잇 타입 - The Rust Reference</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/reference";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/types/impl-trait.md`;
                    } else {
                        canonical_href = `${base}/${lang}/types/impl-trait.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/reference.css">
        <link rel="stylesheet" href="../theme/language-picker.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/types/impl-trait.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>r[type.impl-trait]</p>
<h1 id="impl-트레잇"><a class="header" href="#impl-트레잇">Impl 트레잇</a></h1>
<p>r[type.impl-trait.syntax]</p>
<pre><code class="language-grammar types">ImplTraitType -&gt; `impl` TypeParamBounds

ImplTraitTypeOneBound -&gt; `impl` TraitBound
</code></pre>
<p>r[type.impl-trait.intro] <code>impl Trait</code> provides ways to specify unnamed but concrete types that implement a specific trait. It can appear in two sorts of places: argument position (where it can act as an anonymous type parameter to functions), and return position (where it can act as an abstract return type).</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait Trait {}
<span class="boring">impl Trait for () {}
</span>
// 인자 위치: 익명 타입 매개변수
fn foo(arg: impl Trait) {
}

// 반환 위치: 추상 반환 타입
fn bar() -&gt; impl Trait {
}
<span class="boring">}</span></code></pre></pre>
<p>r[type.impl-trait.param]</p>
<h2 id="익명-타입-매개변수"><a class="header" href="#익명-타입-매개변수">익명 타입 매개변수</a></h2>
<blockquote>
<p>[!NOTE] This is often called “impl Trait in argument position”. (The term “parameter” is more correct here, but “impl Trait in argument position” is the phrasing used during the development of this feature, and it remains in parts of the implementation.)</p>
</blockquote>
<p>r[type.impl-trait.param.intro] Functions can use <code>impl</code> followed by a set of trait bounds to declare a parameter as having an anonymous type. The caller must provide a type that satisfies the bounds declared by the anonymous type parameter, and the function can only use the methods available through the trait bounds of the anonymous type parameter.</p>
<p>예를 들어, 다음 두 형식은 거의 동일합니다:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait Trait {}

// 제네릭 타입 매개변수
fn with_generic_type&lt;T: Trait&gt;(arg: T) {
}

// 인자 위치의 impl Trait
fn with_impl_trait(arg: impl Trait) {
}
<span class="boring">}</span></code></pre></pre>
<p>r[type.impl-trait.param.generic] That is, <code>impl Trait</code> in argument position is syntactic sugar for a generic type parameter like <code>&lt;T: Trait&gt;</code>, except that the type is anonymous and doesn’t appear in the [GenericParams] list.</p>
<blockquote>
<p>[!NOTE] For function parameters, generic type parameters and <code>impl Trait</code> are not exactly equivalent. With a generic parameter such as <code>&lt;T: Trait&gt;</code>, the caller has the option to explicitly specify the generic argument for <code>T</code> at the call site using [GenericArgs], for example, <code>foo::&lt;usize&gt;(1)</code>. Changing a parameter from either one to the other can constitute a breaking change for the callers of a function, since this changes the number of generic arguments.</p>
</blockquote>
<p>r[type.impl-trait.return]</p>
<h2 id="추상-반환-타입"><a class="header" href="#추상-반환-타입">추상 반환 타입</a></h2>
<blockquote>
<p>[!NOTE] This is often called “impl Trait in return position”.</p>
</blockquote>
<p>r[type.impl-trait.return.intro] Functions can use <code>impl Trait</code> to return an abstract return type. These types stand in for another concrete type where the caller may only use the methods declared by the specified <code>Trait</code>.</p>
<p>r[type.impl-trait.return.constraint-body] Each possible return value from the function must resolve to the same concrete type.</p>
<p>반환 위치의 <code>impl Trait</code>는 함수가 박싱되지 않은(unboxed) 추상 타입을 반환할 수 있게 합니다. 이는 <a href="closure.html">클로저</a> 및 반복자와 함께 사용할 때 특히 유용합니다. 예를 들어, 클로저는 작성할 수 없는 고유한 타입을 가집니다. 이전에는 함수에서 클로저를 반환하는 유일한 방법이 <a href="trait-object.html">트레잇 객체</a>를 사용하는 것이었습니다:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn returns_closure() -&gt; Box&lt;dyn Fn(i32) -&gt; i32&gt; {
    Box::new(|x| x + 1)
}
<span class="boring">}</span></code></pre></pre>
<p>이는 힙 할당 및 동적 디스패치로 인한 성능 저하를 초래할 수 있습니다. 클로저의 타입을 완전히 명시하는 것은 불가능했고, 오직 <code>Fn</code> 트레잇만 사용할 수 있었습니다. 즉, 트레잇 객체가 필요하다는 뜻입니다. 하지만 <code>impl Trait</code>를 사용하면 이를 더 간단하게 작성할 수 있습니다:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn returns_closure() -&gt; impl Fn(i32) -&gt; i32 {
    |x| x + 1
}
<span class="boring">}</span></code></pre></pre>
<p>이는 또한 박싱된 트레잇 객체 사용의 단점을 피할 수 있게 해줍니다.</p>
<p>마찬가지로, 반복자의 구체적인 타입은 체인에 있는 이전의 모든 반복자의 타입을 포함하여 매우 복잡해질 수 있습니다. <code>impl Iterator</code>를 반환한다는 것은 함수가 관련된 다른 모든 반복자 타입을 명시적으로 지정하는 대신, 반환 타입에 대한 바운드로서 <code>Iterator</code> 트레잇만을 노출한다는 것을 의미합니다.</p>
<p>r[type.impl-trait.return-in-trait]</p>
<h2 id="트레잇-및-트레잇-구현에서의-반환-위치-impl-trait"><a class="header" href="#트레잇-및-트레잇-구현에서의-반환-위치-impl-trait">트레잇 및 트레잇 구현에서의 반환 위치 <code>impl Trait</code></a></h2>
<p>r[type.impl-trait.return-in-trait.intro] Functions in traits may also use <code>impl Trait</code> as a syntax for an anonymous associated type.</p>
<p>r[type.impl-trait.return-in-trait.desugaring] Every <code>impl Trait</code> in the return type of an associated function in a trait is desugared to an anonymous associated type. The return type that appears in the implementation’s function signature is used to determine the value of the associated type.</p>
<p>r[type.impl-trait.generic-captures]</p>
<h2 id="캡처링"><a class="header" href="#캡처링">캡처링</a></h2>
<p>각 반환 위치 <code>impl Trait</code> 추상 타입 뒤에는 숨겨진 구체적인 타입이 있습니다. 이 구체적인 타입이 제네릭 매개변수를 사용하려면, 해당 제네릭 매개변수가 추상 타입에 의해 _캡처_되어야 합니다.</p>
<p>r[type.impl-trait.generic-capture.auto]</p>
<h2 id="자동-캡처링"><a class="header" href="#자동-캡처링">자동 캡처링</a></h2>
<p>r[type.impl-trait.generic-capture.auto.intro] Return-position <code>impl Trait</code> abstract types automatically capture all in-scope generic parameters, including generic type, const, and lifetime parameters (including higher-ranked ones).</p>
<p>r[type.impl-trait.generic-capture.edition2024]</p>
<blockquote>
<p>[!EDITION-2024] Before the 2024 edition, on free functions and on associated functions and methods of inherent impls, generic lifetime parameters that do not appear in the bounds of the abstract return type are not automatically captured.</p>
</blockquote>
<p>r[type.impl-trait.generic-capture.precise]</p>
<h2 id="정밀-캡처링"><a class="header" href="#정밀-캡처링">정밀 캡처링</a></h2>
<p>r[type.impl-trait.generic-capture.precise.use] The set of generic parameters captured by a return-position <code>impl Trait</code> abstract type may be explicitly controlled with a <a href="../trait-bounds.html#use-bounds"><code>use&lt;..&gt;</code> bound</a>.  If present, only the generic parameters listed in the <code>use&lt;..&gt;</code> bound will be captured.  E.g.:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn capture&lt;'a, 'b, T&gt;(x: &amp;'a (), y: T) -&gt; impl Sized + use&lt;'a, T&gt; {
  //                                      ~~~~~~~~~~~~~~~~~~~~~~~
  //                                     오직 `'a`와 `T`만 캡처합니다.
  (x, y)
}
<span class="boring">}</span></code></pre></pre>
<p>r[type.impl-trait.generic-capture.precise.constraint-single] Currently, only one <code>use&lt;..&gt;</code> bound may be present in a bounds list, all in-scope type and const generic parameters must be included, and all lifetime parameters that appear in other bounds of the abstract type must be included.</p>
<p>r[type.impl-trait.generic-capture.precise.constraint-lifetime] Within the <code>use&lt;..&gt;</code> bound, any lifetime parameters present must appear before all type and const generic parameters, and the elided lifetime (<code>'_</code>) may be present if it is otherwise allowed to appear within the <code>impl Trait</code> return type.</p>
<p>r[type.impl-trait.generic-capture.precise.constraint-param-impl-trait] Because all in-scope type parameters must be included by name, a <code>use&lt;..&gt;</code> bound may not be used in the signature of items that use argument-position <code>impl Trait</code>, as those items have anonymous type parameters in scope.</p>
<p>r[type.impl-trait.generic-capture.precise.constraint-in-trait] Any <code>use&lt;..&gt;</code> bound that is present in an associated function in a trait definition must include all generic parameters of the trait, including the implicit <code>Self</code> generic type parameter of the trait.</p>
<h2 id="반환-위치에서의-제네릭과-impl-trait의-차이점"><a class="header" href="#반환-위치에서의-제네릭과-impl-trait의-차이점">반환 위치에서의 제네릭과 <code>impl Trait</code>의 차이점</a></h2>
<p>인자 위치에서 <code>impl Trait</code>는 의미론적으로 제네릭 타입 매개변수와 매우 유사합니다. 그러나 반환 위치에서는 둘 사이에 중요한 차이가 있습니다. <code>impl Trait</code>를 사용하면 제네릭 타입 매개변수와 달리 함수가 반환 타입을 선택하며, 호출자는 반환 타입을 선택할 수 없습니다.</p>
<p>다음 함수는:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">trait Trait {}
</span>fn foo&lt;T: Trait&gt;() -&gt; T {
    // ...
<span class="boring">panic!()
</span>}
<span class="boring">}</span></code></pre></pre>
<p>호출자가 반환 타입 <code>T</code>를 결정하도록 허용하며, 함수는 해당 타입을 반환합니다.</p>
<p>다음 함수는:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">trait Trait {}
</span><span class="boring">impl Trait for () {}
</span>fn foo() -&gt; impl Trait {
    // ...
}
<span class="boring">}</span></code></pre></pre>
<p>호출자가 반환 타입을 결정하는 것을 허용하지 않습니다. 대신 함수가 반환 타입을 선택하지만, 오직 그 타입이 <code>Trait</code>를 구현한다는 것만 약속합니다.</p>
<p>r[type.impl-trait.constraint]</p>
<h2 id="제한-사항"><a class="header" href="#제한-사항">제한 사항</a></h2>
<p><code>impl Trait</code>는 <code>extern</code>이 아닌 함수의 매개변수 또는 반환 타입으로만 나타날 수 있습니다. <code>let</code> 바인딩의 타입이나 필드 타입이 될 수 없으며, 타입 별칭 내부에 나타날 수 없습니다.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../types/trait-object.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../types/parameters.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../types/trait-object.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../types/parameters.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/reference.js"></script>
        <script src="../theme/language-picker.js"></script>


    </div>
    </body>
</html>
